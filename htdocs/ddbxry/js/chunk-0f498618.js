(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f498618"],{"004e":function(e,r,t){e.exports=t.p+"ddbxry/img/login_bc.png"},"7f7f":function(e,r,t){var o=t("86cc").f,n=Function.prototype,a=/^\s*function ([^ (]*)/,i="name";i in n||t("9e1e")&&o(n,i,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},9691:function(e,r,t){},9893:function(e,r,t){e.exports=t.p+"ddbxry/img/login_ddb.png"},a248:function(e,r,t){"use strict";var o=t("9691"),n=t.n(o);n.a},b562:function(e,r,t){"use strict";var o=t("a27e"),n={title:"展市",cookieExpires:1,useI18n:!0,homeName:"home",jsonConfig:{headers:{post:{"Content-Type":"application/json"}}},multiConfig:{headers:{post:{"Content-Type":"multipart/form-data"}}},plugin:{"error-store":{showInHeader:!0,developmentOff:!0}}},a=n.jsonConfig;r["a"]={pay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.barcode,t=e.pcode,n=e.at,a="/zqxry/pay",i={barcode:r,pcode:t,at:n};return Object(o["a"])(a,i)},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.mobile,t=e.pwd,n="/zqxry/login",a={mobile:r,pwd:t};return Object(o["b"])(n,a)},getUser:function(){var e="/zqxry/bizqry/service",r={opType:201,xry_token_id:window.localStorage.agentToken};return Object(o["b"])(e,r)},sendSms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.mobile,t=e.type,n="/zqxry/bizedt/sendCertCode",a={mobile:r,type:t};return Object(o["b"])(n,a)},register:function(){var e,r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.mobile,i=t.certCode,d=t.promCode,c=t.aName,s=t.pwd,p=t.provinceCode,u=t.cityCode,l=t.areaCode,g=t.recACode,b=t.aAddress,m=t.aType;return d?(e="/zqxry/bizedt/register",r={mobile:n,certCode:i,promCode:d,aName:c,pwd:s,provinceCode:p,cityCode:u,areaCode:l,aAddress:b,aType:m}):(e="/zqxry/bizedt/registerQR",r={mobile:n,certCode:i,aName:c,pwd:s,provinceCode:p,cityCode:u,areaCode:l,pACode:+g,aAddress:b,aType:m}),Object(o["b"])(e,r,a)},findpwd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.mobile,t=e.certCode,n=e.pwd,a="/zqxry/bizedt/findpwd",i={mobile:r,certCode:t,pwd:n};return Object(o["b"])(a,i)},sendProm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.mobile,t=e.opType,n=e.xry_token_id,a="/zqxry/bizedt/service",i={mobile:r,opType:t,xry_token_id:n};return Object(o["b"])(a,i)},updateAccount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.account,t=e.opType,n=void 0===t?105:t,a=e.xry_token_id,i=void 0===a?window.localStorage.agentToken:a,d="/zqxry/bizedt/service",c={account:r,opType:n,xry_token_id:i};return Object(o["b"])(d,c)},getTakeList:function(e){e.aCode,e.tCode;var r=e.pageNum,t=e.pageSize,n="/zqxry/bizqry/service",a={opType:207,xry_token_id:window.localStorage.agentToken,pageNum:r,pageSize:t};return Object(o["b"])(n,a)},getBonusList:function(e){var r=e.startTime,t=e.endTime,n=e.macId,a=e.pageNum,i=e.pageSize,d="/zqxry/bizqry/service";n||(n=0),r+=" 00:00:00",t+=" 23:59:59";var c={opType:204,xry_token_id:window.localStorage.agentToken,startTime:r,endTime:t,macId:n,pageNum:a,pageSize:i};return Object(o["b"])(d,c)},getBonusMoneySum:function(e){var r=e.startTime,t=e.endTime,n=e.macId,a=e.pageNum,i=e.pageSize,d="/zqxry/bizqry/service";n||(n=0),r+=" 00:00:00",t+=" 23:59:59";var c={opType:212,xry_token_id:window.localStorage.agentToken,startTime:r,endTime:t,macId:n,pageNum:a,pageSize:i};return Object(o["b"])(d,c)},takeCash:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.takeAmount,t=e.opType,n=void 0===t?104:t,a=e.xry_token_id,i=void 0===a?window.localStorage.agentToken:a,d="/zqxry/bizedt/service",c={takeAmount:r,opType:n,xry_token_id:i};return Object(o["b"])(d,c)},getOrderInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.orderId,t="/zqxry/bizqry/getOrderInfo",n={orderId:r};return Object(o["a"])(t,n)},getMacList:function(e){var r=e.aCode,t=e.macId,n=e.pageNum,a=e.pageSize,i="/zqxry/bizqry/service";r||(r=-1),t||(t=-1);var d={opType:208,xry_token_id:window.localStorage.agentToken,aCode:r,macId:t,pageNum:n,pageSize:a};return Object(o["b"])(i,d)},getAgentList:function(e){var r=e.recommendACode,t=void 0===r?-1:r,n=e.pageNum,a=e.pageSize,i="/zqxry/bizqry/service",d={opType:210,xry_token_id:window.localStorage.agentToken,recommendACode:t,pageNum:n,pageSize:a};return Object(o["b"])(i,d)},getRecommendList:function(e){var r=e.aCode,t=void 0===r?-1:r,n=e.pageNum,a=e.pageSize,i="/zqxry/bizqry/service",d={opType:211,xry_token_id:window.localStorage.agentToken,aCode:t,pageNum:n,pageSize:a};return Object(o["b"])(i,d)},updateMacListAgent:function(e){var r=e.aCode,t=e.macIdStr,n="/zqxry/bizedt/service",a={opType:107,xry_token_id:window.localStorage.agentToken,aCode:r,macIdStr:t};return Object(o["b"])(n,a)},getMacListForPrice:function(e){var r=e.pageNum,t=e.pageSize,n="/zqxry/bizqry/service",a={opType:213,xry_token_id:window.localStorage.agentToken,pageNum:r,pageSize:t};return Object(o["b"])(n,a)},updateMacPrice:function(e){var r=e.macId,t=e.price,n="/zqxry/bizedt/service",a={opType:111,xry_token_id:window.localStorage.agentToken,macId:r,price:t};return Object(o["b"])(n,a)},agentUp:function(e){var r=e.promCode,t="/zqxry/bizedt/service",n={opType:114,xry_token_id:window.localStorage.agentToken,promCode:r};return Object(o["b"])(t,n)},addOrder:function(e){var r=e.addr,t=e.icount,n="/zqxry/bizedt/service",a={opType:116,xry_token_id:window.localStorage.agentToken,addr:r,icount:t};return Object(o["b"])(n,a)},getLoginInfo:function(){var e="/zqxry/bizqry/service",r={opType:216,xry_token_id:window.localStorage.agentToken};return Object(o["b"])(e,r)},getProPrice:function(){var e="/zqxry/bizqry/service",r={opType:217,xry_token_id:window.localStorage.agentToken};return Object(o["b"])(e,r)},statsAgentList:function(e){var r=e.aCode,t=e.start,n=e.end,a="/zqxry/bizqry/service",i={opType:218,xry_token_id:window.localStorage.agentToken,aCode:r,start:t,end:n};return Object(o["b"])(a,i)},statsAgentDetail:function(e){var r=e.aCode,t=e.start,n=e.end,a="/zqxry/bizqry/service",i={opType:219,xry_token_id:window.localStorage.agentToken,aCode:r,start:t,end:n};return Object(o["b"])(a,i)},getfindOrder:function(e){var r=e.pageNum,t=e.pageSize,n=e.oPayStatus,a="/zqxry/bizqry/service",i={opType:220,xry_token_id:window.localStorage.agentToken,pageNum:r,pageSize:t,oPayStatus:n};return Object(o["b"])(a,i)},getQrUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.barcode,t="/zqxry/payMachine",n={barcode:r};return Object(o["a"])(t,n)},getQrRandUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.barcode,t="/zqxry/payRandMachine",n={barcode:r};return Object(o["a"])(t,n)},recharge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.memCode,t=e.price,n="/zqxry/bizedt/service",a={opType:122,xry_token_id:window.localStorage.agentToken,memCode:r,price:t};return Object(o["b"])(n,a)},manageOrderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.prdStatus,t=e.pageNum,n=e.pageSize,a="/zqxry/bizqry/service",i={opType:239,xry_token_id:window.localStorage.agentToken,pageNum:t,pageSize:n,prdStatus:r};return Object(o["b"])(a,i)},sign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.url,t="/ddbxry/ddbWx/jsSign",n={url:r};return Object(o["b"])(t,n)},edCode:function(){var e="/zqxry/bizqry/service",r={opType:238,xry_token_id:window.localStorage.agentToken};return Object(o["b"])(e,r)},edSend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.pbCode,t=e.daExCode,n=e.edCode,a="/zqxry/bizedt/service",i={opType:131,xry_token_id:window.localStorage.agentToken,pbCode:r,daExCode:t,edCode:n};return Object(o["b"])(a,i)}}},ede4:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login"},[e._m(0),t("div",{staticClass:"cont"},[t("van-field",{ref:"phone",staticStyle:{border:"none","border-bottom":"1px solid #e9e9e9"},attrs:{center:"",clearable:"",placeholder:"请输入手机号码",border:!1,type:"number","error-message":e.errorMessage.mobile},model:{value:e.mobile,callback:function(r){e.mobile=r},expression:"mobile"}}),e.verifyLoad?[t("van-field",{staticStyle:{"margin-top":"24px","border-bottom":"1px solid #e9e9e9"},attrs:{border:!1,"error-message":e.errorMessage.sms,center:"",clearable:"",type:"number",placeholder:"请输入验证码"},model:{value:e.sms,callback:function(r){e.sms=r},expression:"sms"}},[t("van-button",{staticStyle:{"border-radius":"4px"},attrs:{slot:"button",size:"small",type:"primary"},slot:"button"},[e._v("发送验证码")])],1)]:[t("van-field",{ref:"pwd",staticStyle:{"margin-top":"24px","border-bottom":"1px solid #e9e9e9"},attrs:{border:!1,"error-message":e.errorMessage.password,center:"",clearable:"",placeholder:"请输入密码",type:"password"},model:{value:e.pwd,callback:function(r){e.pwd=r},expression:"pwd"}})],t("div",{staticClass:"forgetPwd",on:{click:e.toFindPwd}},[e._v("忘记密码？")]),t("van-button",{staticClass:"btn",attrs:{round:"",type:"primary",size:"large"},on:{click:e.submit}},[e._v("登录")]),t("div",{staticClass:"forgetPwd reg",on:{click:e.toReg}},[e._v("注册")])],2)])},n=[function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"login-img"},[o("img",{attrs:{src:t("004e"),alt:""}}),o("img",{staticClass:"ddb",attrs:{src:t("9893"),alt:""}})])}],a=(t("7f7f"),t("b562")),i=t("d399"),d={data:function(){return{verifyLoad:!1,mobile:"",sms:"",pwd:"",routerName:"",errorMessage:{mobile:"",sms:"",password:""}}},methods:{submit:function(){var e=this;if(console.log(this.$refs),""===this.mobile)return this.errorMessage.mobile="手机号不能为空",!1;var r={mobile:this.mobile,pwd:this.pwd};a["a"].login(r).then(function(r){e.$refs.phone.$refs.input.blur(),e.$refs.pwd.$refs.input.blur(),console.log(e.$refs.phone),window.localStorage.agentToken=r,a["a"].getUser().then(function(r){console.log(r),console.log(e.routerName),window.localStorage.user=JSON.stringify(r.member),e.routerName&&"setting"!==e.routerName&&"login"!==e.routerName&&"register"!==e.routerName&&"findPwd"!==e.routerName?e.$router.push({name:e.routerName}):e.$router.push({name:"home"})}).catch(function(e){return i["a"].fail(e.msg)})}).catch(function(e){return i["a"].fail(e.msg)})},toFindPwd:function(){this.$router.push({name:"findPwd"})},toReg:function(){this.$router.push({name:"register"})}},beforeRouteEnter:function(e,r,t){localStorage.agentToken?t(function(e){e.$router.push({name:"home"})}):t(function(e){e.routerName=r.name})}},c=d,s=(t("a248"),t("2877")),p=Object(s["a"])(c,o,n,!1,null,null,null);r["default"]=p.exports}}]);