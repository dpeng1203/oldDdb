(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-557e9363"],{"01c8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"agentlist"},[e._m(0),n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.list,function(t,a){return n("div",{key:a,staticClass:"agentlist-content flex-space",class:{hex:a%2===1}},[n("p",[e._v(e._s(t.name))]),n("p",{attrs:{type:"primary"},on:{click:function(t){return e.showPopup(a)}}},[e._v("\n        "+e._s(t.macEntityList.length)+"\n        ")]),n("van-popup",{model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("div",{staticClass:"flex-space"},[n("p",[e._v("序号")]),n("p",[e._v("机器编号")])]),n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[n("van-cell-group",e._l(e.macCodeList,function(t,a){return n("van-cell",{key:a},[n("div",{staticClass:"agentlist-content flex-space",class:{hex:a%2===1}},[n("p",{staticClass:"right"},[e._v(e._s(a+1))]),n("p",[e._v(" "+e._s(t.macId))])])])}),1)],1)],1),n("button",{on:{click:function(n){return e.toShareDevice(t.code)}}},[e._v("分发设备")])],1)}),0)],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"agentlist-top flex-space"},[n("p",[e._v("姓名")]),n("p",[e._v("设备（台）")]),n("p",[e._v("分发操作")])])}],i=(n("a481"),n("75fc")),o=n("b562"),l=n("2241"),c=n("d399"),r={data:function(){return{result:"",active:"未分发",user:JSON.parse(window.localStorage.getItem("user")),list:[],loading:!1,finished:!1,show:!1,params:{pageNum:1,pageSize:20},macCodeList:[]}},methods:{formartTime:function(e){return e.substring(0,e.length-2)},toShareDevice:function(e){this.$router.push({name:"shareDevice",query:{aCode:e}})},showPopup:function(e){this.show=!0,this.macCodeList=this.list[e].macEntityList},onLoad:function(){var e=this;o["a"].getAgentList(this.params).then(function(t){var n;(n=e.list).push.apply(n,Object(i["a"])(t)),console.log(t),e.loading=!1,t.length<e.params.pageSize&&(e.finished=!0),e.params.pageNum+=1}).catch(function(t){console.log(t),-6===t.resultCode?(localStorage.clear("agentToken"),l["a"].alert({message:t.msg}).then(function(){e.$router.replace({name:"login"})})):(c["a"].fail(t.msg),e.loading=!1,e.finished=!0)})}}},u=r,d=(n("e598"),n("2877")),p=Object(d["a"])(u,a,s,!1,null,null,null);t["default"]=p.exports},e1d7:function(e,t,n){},e598:function(e,t,n){"use strict";var a=n("e1d7"),s=n.n(a);s.a}}]);